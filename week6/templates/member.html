
<!doctype html>
<html lang="zh-Hant">
<head>
  <meta charset="utf-8" />
  <title>歡迎光臨，這是會員頁</title>
 
</head>
<body>
  <h1>{{ member.name }}，歡迎登入系統</h1>

  <p>
    <a href="/logout">登出</a>
  </p>

  <hr />


  <h2>快來留言吧</h2>
  <form action="/createMessage" method="post">
    <input type="text" name="content" placeholder="內容" />
    <button type="submit">送出</button>
  </form>

  <hr />


  <h2>留言</h2>

  {% if messages %}
    <ul>
      {% for msg in messages %}
        <li>
          <strong>{{ msg.author_name }}：</strong>
          {{ msg.content }}

          {% if msg.member_id == member.id %}
            <form action="/deleteMessage" method="post" style="display:inline;" onsubmit="return confirmDelete();">
              <input type="hidden" name="message_id" value="{{ msg.id }}" />
              <button type="submit">刪除</button>
            </form>
          {% endif %}
        </li>
      {% endfor %}
    </ul>
  {% else %}
    <p>目前沒有任何留言，快來當第一個留言的人吧！</p>
  {% endif %}

  <script>
    function confirmDelete() {
      return confirm("確定要刪除這則留言嗎？");
    }
  </script>
</body>
</html>
